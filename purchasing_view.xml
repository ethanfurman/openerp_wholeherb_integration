<?xml version="1.0"?>
<openerp>
    <data>

        <menuitem
            name="Purchasing"
            id="wholeherb_integration_purchasing"
            parent="base.menu_base_partner"
            groups="base.group_sale_salesman"
            />

        <record id="purchasing_lot_tree_view" model="ir.ui.view">
            <field name="name">Purchase Lot Tree View</field>
            <field name="model">wholeherb_integration.product_lot</field>
            <field name="arch" type="xml">
                <tree string="Purchased Lot" version="7.0">
                    <field name="lot_no"/>
                    <field name="product_id"/>
                    <field name="date_received"/>
                    <field name="qty_recd"/>
                    <field name="qty_recd_uom_id"/>
                </tree>
            </field>
        </record>

        <record id="purchasing_lot_form_view" model="ir.ui.view">
            <field name="name">Purchase Lot Form View</field>
            <field name="model">wholeherb_integration.product_lot</field>
            <field name="arch" type="xml">
                <form string="Purchased Lot" version="7.0">
                    <group>
                        <group string="General">
                            <field name="lot_no"/>
                            <field name="product_id"/>
                            <field name="status"/>
                            <field name="supplier_id"/>
                            <field name="preship_id" class="oe_inline"/>
                            <field name="preship_status" class="oe_inline"/>
                            <field name="match_preship"/>
                            <field name="source_lot_no"/>
                        </group>
                        <group string="Quantities">
                            <field name="on_order" class="oe_inline"/>
                            <field name="on_order_uom_id" class="oe_inline"/>
                            <field name="date_received"/>
                            <field name="qty_recd" class="oe_inline"/>
                            <field name="qty_recd_uom_id" class="oe_line"/>
                            <field name="qty_avail"/>
                        </group>
                        <group string="Schedule">
                            <field name="terms"/>
                            <field name="risk_factor"/>
                            <field name="pack"/>
                            <field name="etd_0son"/>
                            <field name="c_of_a"/>
                            <field name="usda"/>
                            <field name="fda"/>
                            <field name="customs"/>
                            <field name="expected_date"/>
                        </group>
                        <group string="Costs">
                            <field name="cost"/>
                            <field name="proj_clearance"/>
                            <field name="proj_fob_cost"/>
                            <separator colspan="2"/>
                            <field name="act_cost"/>
                            <field name="i_f"/>
                            <field name="cus"/>
                            <field name="misc"/>
                            <field name="act_fob_cost"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Comments (S)">
                            <field name="s_comment" nolabel="1"/>
                        </page>
                        <page string="Comments (P/R)">
                            <field name="pr_comment" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="purchasing_tree_view" model="ir.ui.view">
            <field name="name">Purchasing View</field>
            <field name="model">wholeherb_integration.purchase_order</field>
            <field name="arch" type="xml">
                <tree string="Purchase Orders" version="7.0">
                    <field name="purchase_order"/>
                    <field name="supplier_id"/>
                    <field name="vessel"/>
                </tree>
            </field>
        </record>

        <record id="purchasing_form_view" model="ir.ui.view">
            <field name="name">Purchasing View</field>
            <field name="model">wholeherb_integration.purchase_order</field>
            <field name="priority" eval="20"/>
            <field name="arch" type="xml">
                <form string="Purchase Orders" version="7.0">
                    <div>
                        <h2>
                            <field name="purchase_order"/>
                        </h2>
                    </div>
                    <group>
                        <group>
                            <field name="supplier_id"/>
                            <field name="vessel"/>
                        </group>
                    </group>
                    <field name="lot_ids"
                        context="{'form_view_ref':'wholeherb_integration.purchasing_lot_form_view', 'tree_view_ref':'wholeherb_integration.purchasing_lot_tree_view'}"
                        />
                </form>
            </field>
        </record>

        <record id="purchase_order_normal_action" model="ir.actions.act_window">
            <field name="name">Purchase Orders</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">wholeherb_integration.purchase_order</field>
            <field name="view_type">form</field>
            <field name="view_mode">list,form</field>
        </record>

        <record id="purchase_order_form_view" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="purchasing_form_view"/>
            <field name="act_window_id" ref="purchase_order_normal_action"/>
        </record>

        <record id="purchase_order_tree_view" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="purchasing_tree_view"/>
            <field name="act_window_id" ref="purchase_order_normal_action"/>
        </record>

        <menuitem
            name="Purchases"
            id="purchasing_views"
            parent="wholeherb_integration_purchasing"
            action="purchase_order_normal_action"
            groups="base.group_sale_salesman"
            />

        <record id="purchase_lot_normal_action" model="ir.actions.act_window">
            <field name="name">Purchased Lots</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">wholeherb_integration.product_lot</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="purchasing_lot_tree_view"/>
            <field name="view_mode">list,form</field>
        </record>

        <menuitem
            name="Lots"
            id="purchasing_lot_views"
            parent="wholeherb_integration_purchasing"
            action="purchase_lot_normal_action"
            groups="base.group_sale_salesman"
            />

    </data>
</openerp>
